import{j as u,a as y,Q as U}from"./stories.settings-7040e2b8.js";import{R as h,r as P}from"./index-61bf1805.js";import{g as O,a as W,l as F}from"./math.utils-e947ddbe.js";import{I as C}from"./Icon-8947511e.js";import"./_commonjsHelpers-de833af9.js";import"./settings-efbb2779.js";import"./dom.utils-26b7419a.js";import"./log.utils-973a80c9.js";function Y({start:d,end:a,range:t,min:s,getPositionFromValue:n}){return u("div",{className:"a-range-slider__bar",style:{left:t?n(d)+"px":"",width:t&&a?n(a+s-d)+"px":n(d)+"px"}})}function I({value:d,min:a,max:t,sliderMin:s,sliderMax:n,step:c,direction:m,sliderPos:r,onUpdate:i,getPositionFromValue:E,ariaLabel:M}){const[v,S]=h.useState(0),x=h.useRef(null);h.useEffect(()=>{r&&S(r)},[m,r]);const w=e=>{e.stopPropagation(),e.preventDefault()},R=()=>{document.addEventListener("mousemove",b),document.addEventListener("mouseup",f)},b=e=>{e.type==="mousemove"?w(e):e.stopPropagation();const o=g(e);return i&&i(o)},f=e=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",f);const o=g(e);return i&&i(o)},g=e=>O(e,v,c,a,t,s,n,m),k=e=>{let o=d;e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),o+=c):e.key==="ArrowDown"||e.key==="ArrowLeft"?(e.preventDefault(),o-=c):e.key==="End"?(e.preventDefault(),o=t):e.key==="Home"&&(e.preventDefault(),o=a),o>=a&&o<=t&&i(o)};return u("div",{className:"a-range-slider__handle",tabIndex:0,style:{left:E(d)+"px"},onMouseDown:R,onTouchEnd:w,onTouchMove:b,onKeyDown:k,role:"slider","aria-orientation":"horizontal","aria-valuemax":t,"aria-valuemin":a,"aria-valuenow":d,"aria-label":M,ref:x})}function D({label:d,start:a=0,end:t,min:s=0,max:n=10,step:c=1,unit:m="",minRange:r=1,range:i=!1,labelStart:E,labelEnd:M,iconStart:v,iconEnd:S,ariaLabelMin:x="Minimum",ariaLabelMax:w="Maximimum",tickMarks:R,qa:b,onChange:f}){const[g,k]=h.useState(0),[e,o]=h.useState(0),[L,q]=h.useState(0),V=h.useRef(null);h.useEffect(()=>(window.addEventListener("resize",T),T(),()=>window.removeEventListener("resize",T)),[]);const T=()=>{if(V.current){const l=V.current.offsetWidth,p=V.current;if(p&&p instanceof HTMLElement){const Q=p.getBoundingClientRect().left;q(Q)}k(l),o(l)}},H=l=>{if(!(i&&t&&r&&t-l<r))return f&&f(l,i?t:void 0)},A=l=>{if(!(a&&r&&l-a<r))return f&&f(a,l)},N=l=>F(l,s,n,g),B=l=>O(l,g,c,s,n,s,n,L),K=l=>{const p=B(l);if(i&&t&&Math.abs(p-t)<Math.abs(p-a)){A(p);return}H(p)};return y("div",{className:"a-range-slider","data-qa":b,ref:V,children:[y("div",{className:"a-range-slider__labels",children:[u("div",{className:"a-range-slider__label",children:d}),y("div",{className:"a-range-slider__label",children:[i?`${a} - ${t}`:`${a}`,` ${m}`]})]}),y("div",{className:"a-range-slider__inner",onClick:K,children:[R&&u("div",{className:"a-range-slider__tickmarks",children:W(s,n,c).map(l=>u("div",{className:"a-range-slider__tickmark"},l))}),u(Y,{start:a,end:t,getPositionFromValue:N,range:!!i,min:s}),u(I,{value:a,onUpdate:H,min:s,max:i&&r?n-r:n,sliderMin:s,sliderMax:n,step:c,sliderPos:e,direction:L,getPositionFromValue:N,ariaLabel:x}),i&&typeof r=="number"&&typeof t=="number"&&u(I,{value:t,onUpdate:A,min:s+r,max:n,sliderMin:s,sliderMax:n,step:c,sliderPos:e,direction:L,getPositionFromValue:N,ariaLabel:w})]}),y("div",{className:"a-range-slider__descriptions",children:[y("div",{className:"a-range-slider__description small",children:[E,v?u(C,{name:v}):null]}),y("div",{className:"a-range-slider__description small",children:[M,S?u(C,{name:S}):null]})]})]})}D.displayName="RangeSlider";const le={title:"React/Atoms/RangeSlider",component:D,parameters:{docs:{description:{component:"Use the range slider component when the user needs to select a value or value range within certain minimum and maximum values."}}},args:{label:"Price",min:0,max:20,step:1,unit:"$",range:!1,minRange:1,labelStart:"",labelEnd:"",iconStart:"ai-accounting-bill",iconEnd:"ai-accounting-bills",ariaLabelMin:"Minimum",ariaLabelMax:"Maximum",tickMarks:!1},argTypes:{label:{control:{type:"text"},table:{type:{summary:"string"}},description:"A label that displays above the `RangeSlider`. "},start:{control:!1,table:{type:{summary:"number"},defaultValue:{summary:0}},description:"The `start` prop sets the value for the left handle if the `range` prop is set to `true`. If the `range` prop is set to `false`, the `start` prop sets the starting value of the single handle instead."},end:{control:!1,table:{type:{summary:"number"}},description:"The `end` prop sets the value for the right handle if the `range` prop is set to `true`."},min:{control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:0}},description:"The `min` prop controls the minimum value for the handle(s) on a `RangeSlider`."},max:{control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:10}},description:"The `max` prop controls the maximum value for the handle(s) on a `RangeSlider`."},step:{control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:1}},description:"The `step` prop controls with what increment a handle can be increased or decreased."},unit:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:""}},description:"The `unit` is a a suffix added after the numeric value(s)."},range:{control:{type:"boolean"},table:{type:{summary:"boolean"},defaultValue:{summary:!1}},description:"Setting `range` to `true` will add a second handle on the slider."},minRange:{control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:1}},description:"The `minRange` controls the minimum difference in values between `start` and `end`. For instance, a minRange of 2 means that `end` will always have a value of at least `start + 2`. Works only if `range` is `true`."},labelStart:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:""}},description:"Label at the start of the slider."},labelEnd:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:""}},description:"Label at the end of the slider."},iconStart:{control:{type:"select"},options:["","ai-accounting-bill","volume-control-off","arrow-left-1"],table:{type:{summary:"string"},defaultValue:{summary:""}},description:"Icon at the start of the slider."},iconEnd:{control:{type:"select"},options:["","ai-accounting-bills","volume-control-full","arrow-right-1"],table:{type:{summary:"string"},defaultValue:{summary:""}},description:"Icon at the end of the slider."},onChange:{control:{type:"function"},table:{type:{summary:"function"}},action:"onChange",description:"Function triggered when the start or end value is updated. The first parameter of this function is the new `start` value, the second parameter is the new `end` value (can be `undefined` if range is set to `false`)."},ariaLabelMin:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:"Minimum"}},description:"Aria-label on the `start` handle of the slider."},ariaLabelMax:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:"Maximum"}},description:"Aria-label on the `end` handle of the slider."},tickMarks:{control:{type:"boolean"},table:{type:{summary:"boolean"},defaultValue:{summary:!1}},description:"Show tickmarks on the `RangeSlider`."},qa:U}},G=({...d})=>{const[a,t]=P.useState(5),[s,n]=P.useState(12),c=(m,r)=>{t(m),n(r)};return u(D,{...d,onChange:(m,r)=>{c(m,r),d.onChange(m,r)},start:a,end:s})},_=G.bind({});var $,z,j;_.parameters={..._.parameters,docs:{...($=_.parameters)==null?void 0:$.docs,source:{originalSource:`({
  ...args
}) => {
  const [handleStartValue, setHandleStartValue] = useState(5);
  const [handleEndValue, setHandleEndValue] = useState(12);
  const handleChange = (start, end) => {
    setHandleStartValue(start);
    setHandleEndValue(end);
  };
  return <RangeSlider {...args} onChange={(start, end) => {
    handleChange(start, end);
    args.onChange(start, end);
  }} start={handleStartValue} end={handleEndValue} />;
}`,...(j=(z=_.parameters)==null?void 0:z.docs)==null?void 0:j.source}}};const se=["rangeSlider"];export{se as __namedExportsOrder,le as default,_ as rangeSlider};
//# sourceMappingURL=RangeSlider.stories-2bf233d0.js.map
