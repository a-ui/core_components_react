{"version":3,"file":"Pagination.stories-e5085cf4.js","sources":["../../../../packages/antwerp-ui/react-components/src/lib/molecules/pagination/Pagination.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { PaginationProps } from './Pagination.types';\nimport { classNames } from '../../../utils/dom.utils';\nimport { Icon } from '../../base/icon';\nimport { MouseEvent, useEffect, useState } from 'react';\nimport { DEFAULT_SIZE, SIZE_MAP } from '../../../constants/layout.settings';\nimport { pagesArray } from '../../../utils/math.utils';\n\nconst renderTextPagination = (currentPage: number, totalPages: number, text: string, ariaLabelPage?: string) => (\n  <li className=\"m-pagination__label\" key=\"pagination__label\">\n    <span className=\"u-screen-reader-only\">{ariaLabelPage} </span>\n    {text.replace('%currentPage%', `${currentPage}`).replace('%totalPages%', `${totalPages}`)}\n  </li>\n);\n\nconst renderNumbersPagination = (\n  current: number,\n  total: number,\n  ariaLabelPage?: string,\n  onChange?: (page: number, e: MouseEvent) => void\n) => {\n  const pages = pagesArray(current, total);\n  return pages.map((page: number, i: number) => {\n    if (!page) {\n      return <li key={i}>...</li>;\n    } else {\n      const pageClass = classNames({\n        'is-active': page === current\n      });\n      return (\n        <li key={i}>\n          <a\n            className={pageClass}\n            href={'#'}\n            onClick={(e) => onChange && onChange(page, e)}\n            aria-label={`${ariaLabelPage} ${page}`}\n            aria-current={page === current ? 'page' : undefined}\n          >\n            {page}\n          </a>\n        </li>\n      );\n    }\n  });\n};\n\nexport function Pagination({\n  currentPage = 1,\n  itemsPerPage,\n  totalItems,\n  onChange,\n  display,\n  size,\n  ariaLabel,\n  ariaLabelNextPage,\n  ariaLabelPreviousPage,\n  ariaLabelPage,\n  text,\n  qa\n}: PaginationProps) {\n  const [totalPages, setTotalPages] = useState<number>(0);\n\n  const onPrev = (event: MouseEvent) => {\n    event.preventDefault();\n    if (currentPage > 1) {\n      pageChange(currentPage - 1);\n    }\n  };\n\n  const onNext = (event: MouseEvent) => {\n    event.preventDefault();\n    if (currentPage < totalPages) {\n      pageChange(currentPage + 1);\n    }\n  };\n\n  const pageChange = (i: number, event?: MouseEvent) => {\n    event && event.preventDefault();\n    return onChange && onChange(i);\n  };\n\n  const paginationClass = classNames({\n    'm-pagination': true,\n    [`m-pagination--${SIZE_MAP[size || DEFAULT_SIZE]}`]: !!size\n  });\n  const paginationPreviousClass = classNames({ 'is-disabled': currentPage <= 1 });\n  const paginationNextClass = classNames({ 'is-disabled': currentPage >= totalPages });\n\n  useEffect(() => {\n    if (totalItems && itemsPerPage) {\n      const total = Math.ceil(Math.abs(totalItems) / Math.abs(itemsPerPage));\n      setTotalPages(total);\n    }\n  }, [currentPage, itemsPerPage, totalItems]);\n\n  return (\n    <nav role=\"navigation\" aria-label={ariaLabel} data-qa={qa}>\n      <ul className={paginationClass}>\n        <li className=\"m-pagination__prev\" key={'pagination__prev'}>\n          <a href={'#'} className={paginationPreviousClass} aria-label={ariaLabelPreviousPage} onClick={onPrev}>\n            <Icon name=\"arrow-left-1\" />\n          </a>\n        </li>\n        {display === 'text' && renderTextPagination(currentPage, totalPages, text, ariaLabelPage)}\n        {display === 'numbers' && renderNumbersPagination(currentPage, totalPages, ariaLabelPage, pageChange)}\n        <li className=\"m-pagination__next\" key=\"pagination__next\">\n          <a href={'#'} className={paginationNextClass} aria-label={ariaLabelNextPage} onClick={onNext}>\n            <Icon name=\"arrow-right-1\" />\n          </a>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nPagination.defaultProps = {\n  currentPage: 1,\n  ariaLabel: 'Paginering',\n  ariaLabelNextPage: 'Volgende pagina',\n  ariaLabelPreviousPage: 'Vorige pagina',\n  ariaLabelPage: 'Pagina',\n  text: '%currentPage% van de %totalPages%',\n  display: 'numbers'\n};\n\nexport default Pagination;\n"],"names":["renderTextPagination","currentPage","totalPages","text","ariaLabelPage","jsxs","renderNumbersPagination","current","total","onChange","pagesArray","page","i","pageClass","classNames","jsx","e","Pagination","itemsPerPage","totalItems","display","size","ariaLabel","ariaLabelNextPage","ariaLabelPreviousPage","qa","setTotalPages","useState","onPrev","event","pageChange","onNext","paginationClass","SIZE_MAP","DEFAULT_SIZE","paginationPreviousClass","paginationNextClass","useEffect","Icon"],"mappings":"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"}