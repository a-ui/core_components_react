import{a as b,j as h}from"./stories.settings-7040e2b8.js";import{r as n,R as a}from"./index-61bf1805.js";import{$ as k}from"./index-2801d3c9.js";import{a as w,D as C}from"./layout.settings-4161ae17.js";import{c as E}from"./dom.utils-26b7419a.js";const M=n.forwardRef(function({trigger:m,open:u,hasPadding:v=!0,className:d="",orientation:e="bottom-left",size:i,children:x,scrollable:p=!1,onStateChange:t,qa:I},_){const[F,y]=a.useState(!!u),s=u===!1||u===!0?u:F,o=a.useRef(null);n.useImperativeHandle(_,()=>o.current);const f=a.useCallback(c=>{const l=k.findDOMNode(o.current);c.target===(l==null?void 0:l.lastChild)&&c.preventDefault(),l&&!l.contains(c.target)&&(y(!1),t&&t(!1))},[t]),r=a.useCallback(()=>{s?document.addEventListener("mousedown",f,!1):document.removeEventListener("mousedown",f,!1)},[f,s]),O=()=>{y(!s),r(),t&&t(!s)};a.useEffect(()=>{r()},[r]);const R=E({"m-flyout":!0,[d]:!!d,"is-open":!!s,"u-text-right":!!(e!=null&&e.includes("right")),[`m-flyout--${e}`]:!!e,[`m-flyout--${w[i||C]}`]:!!i,"m-flyout--scrollable":!!p}),$=E({"m-flyout__content":!0,"has-padding":!!v});return m?b("div",{className:R,ref:o,"data-qa":I,children:[n.cloneElement(m,{onClick:O,"aria-haspopup":!0,"aria-expanded":s}),h("div",{className:$,...p?{tabIndex:0}:{},children:x})]}):null});export{M as F};
//# sourceMappingURL=Flyout-7df0ba06.js.map
