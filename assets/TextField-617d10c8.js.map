{"version":3,"file":"TextField-617d10c8.js","sources":["../../../../packages/antwerp-ui/react-components/src/lib/atoms/input/text-field/TextField.tsx"],"sourcesContent":["import { TextFieldProps } from '../Input.types';\nimport { classNames } from '../../../../utils/dom.utils';\nimport { DEFAULT_SIZE, SIZE_MAP } from '../../../../constants/layout.settings';\nimport { Icon } from '../../../base/icon';\nimport { renderCharacterCounter, renderDescription, renderLabel } from '../input.renders';\nimport { ForwardedRef, forwardRef, useState } from 'react';\nimport { Spinner } from '../../spinner';\nimport './TextField.css';\n\nexport const TextField = forwardRef(function TextField(\n  {\n    addOn,\n    autoComplete,\n    charCounter,\n    charCountText,\n    description,\n    disabled,\n    id = 'aui-text-field',\n    role,\n    inline,\n    label,\n    maxLength,\n    maxLengthBlocksInput,\n    name,\n    onChange,\n    qa,\n    readOnly,\n    required,\n    size,\n    state,\n    type = 'text',\n    value,\n    onBlur,\n    onClick,\n    onFocus,\n    onKeyDown,\n    onKeyUp\n  }: TextFieldProps,\n  inputRef: ForwardedRef<HTMLInputElement>\n) {\n  const [characterCount, setCharacterCount] = useState(value ? value.length : 0);\n  const addOnLeft = addOn?.type === 'text' && addOn.placement === 'left' ? addOn.content : null;\n  const addOnRight = addOn?.type === 'text' && addOn.placement === 'right' ? addOn.content : null;\n  const iconLeft = addOn?.type === 'icon' && addOn.placement === 'left' ? addOn.content : null;\n  const iconRight = addOn?.type === 'icon' && addOn.placement === 'right' ? addOn.content : null;\n\n  const toggleCharCounter = charCounter !== undefined ? charCounter : maxLength ? true : false;\n  const charCounterText = charCountText ? charCountText : maxLength ? '%count% / %max%' : '%count%';\n\n  const classes = classNames({\n    'a-input': true,\n    'a-input--inline': !!inline,\n    [`a-input--${SIZE_MAP[size || DEFAULT_SIZE]}`]: !!size,\n    'has-icon-left': !!iconLeft || (addOn?.type === 'spinner' && addOn?.placement === 'left'),\n    'has-icon-right': !iconLeft && !!iconRight,\n    'has-addon-left': !!addOnLeft,\n    'has-addon-right': !!addOnRight,\n    'has-error': state === 'error',\n    'has-spinner': addOn?.type === 'spinner',\n    [`has-spinner-${addOn?.placement}`]: !!addOn\n  });\n\n  const wrapperClasses = classNames({\n    'a-input__wrapper': true,\n    'a-input__wrapper--inline': !!inline\n  });\n\n  const _handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setCharacterCount(event.target.value.length);\n    return onChange && onChange(event);\n  };\n\n  return (\n    <div className={classes} data-qa={qa}>\n      {renderLabel({ label, id, required, inline })}\n      {renderDescription({ id, description, state })}\n      <div className={wrapperClasses}>\n        {addOn?.type === 'spinner' && <Spinner size=\"small\" />}\n        {!!iconLeft && <Icon name={iconLeft} />}\n        {!!addOnLeft && <div className=\"a-input__addon\">{addOnLeft}</div>}\n        <input\n          ref={inputRef}\n          type={type}\n          value={value}\n          name={name}\n          id={id}\n          autoComplete={autoComplete}\n          disabled={disabled}\n          readOnly={readOnly}\n          required={required}\n          maxLength={maxLength && maxLengthBlocksInput ? maxLength : undefined}\n          onChange={_handleChange}\n          onBlur={onBlur}\n          onClick={onClick}\n          onFocus={onFocus}\n          onKeyDown={onKeyDown}\n          onKeyUp={onKeyUp}\n          role={role}\n          {...(toggleCharCounter ? { 'aria-describedby': `${id}--counter` } : {})}\n          {...(description ? { 'aria-describedby': `${id}--description` } : {})}\n        ></input>\n        {!!iconRight && !iconLeft && <Icon name={iconRight} />}\n        {!!addOnRight && <div className=\"a-input__addon\">{addOnRight}</div>}\n      </div>\n      {renderCharacterCounter({\n        id,\n        charCountText: charCounterText,\n        charCounter: toggleCharCounter,\n        characterCount: value ? value.length : characterCount,\n        maxLength\n      })}\n    </div>\n  );\n});\n\nexport default TextField;\n"],"names":["TextField","forwardRef","addOn","autoComplete","charCounter","charCountText","description","disabled","id","role","inline","label","maxLength","maxLengthBlocksInput","name","onChange","qa","readOnly","required","size","state","type","value","onBlur","onClick","onFocus","onKeyDown","onKeyUp","inputRef","characterCount","setCharacterCount","useState","addOnLeft","addOnRight","iconLeft","iconRight","toggleCharCounter","charCounterText","classes","classNames","SIZE_MAP","DEFAULT_SIZE","wrapperClasses","_handleChange","event","jsxs","renderLabel","renderDescription","jsx","Spinner","Icon","renderCharacterCounter","TextField$1"],"mappings":"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"}