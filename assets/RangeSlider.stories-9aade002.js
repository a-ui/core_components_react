import{j as d,a as b,Q as U}from"./stories.settings-7040e2b8.js";import{R as h,r as A}from"./index-61bf1805.js";import{g as O,a as W,l as F}from"./math.utils-e947ddbe.js";import{I as C}from"./Icon-b88d001d.js";import"./_commonjsHelpers-de833af9.js";import"./settings-2256c0f5.js";import"./dom.utils-26b7419a.js";import"./log.utils-973a80c9.js";function Y({start:u,end:a,range:t,min:l,getPositionFromValue:n}){return d("div",{className:"a-range-slider__bar",style:{left:t?n(u)+"px":"",width:t&&a?n(a+l-u)+"px":n(u)+"px"}})}function I({value:u,min:a,max:t,sliderMin:l,sliderMax:n,step:c,direction:p,sliderPos:r,onUpdate:i,getPositionFromValue:x,ariaLabel:M}){const[S,w]=h.useState(0),R=h.useRef(null);h.useEffect(()=>{r&&w(r)},[p,r]);const V=e=>{e.stopPropagation(),e.preventDefault()},L=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",y)},g=e=>{e.type==="mousemove"?V(e):e.stopPropagation();const o=v(e);return i&&i(o)},y=e=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y);const o=v(e);return i&&i(o)},v=e=>O(e,S,c,a,t,l,n,p),k=e=>{let o=u;e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),o+=c):e.key==="ArrowDown"||e.key==="ArrowLeft"?(e.preventDefault(),o-=c):e.key==="End"?(e.preventDefault(),o=t):e.key==="Home"&&(e.preventDefault(),o=a),o>=a&&o<=t&&i(o)};return d("div",{className:"a-range-slider__handle",tabIndex:0,style:{left:x(u)+"px"},onMouseDown:L,onTouchEnd:V,onTouchMove:g,onKeyDown:k,role:"slider","aria-orientation":"horizontal","aria-valuemax":t,"aria-valuemin":a,"aria-valuenow":u,"aria-label":M,ref:R})}function m({label:u,start:a=m.defaultProps.start,end:t,min:l=m.defaultProps.min,max:n=m.defaultProps.max,step:c=m.defaultProps.step,unit:p=m.defaultProps.unit,minRange:r=m.defaultProps.minRange,range:i=m.defaultProps.range,labelStart:x,labelEnd:M,iconStart:S,iconEnd:w,ariaLabelMin:R,ariaLabelMax:V,tickMarks:L,qa:g,onChange:y}){const[v,k]=h.useState(0),[e,o]=h.useState(0),[P,q]=h.useState(0),_=h.useRef(null);h.useEffect(()=>(window.addEventListener("resize",T),T(),()=>window.removeEventListener("resize",T)),[]);const T=()=>{if(_.current){const s=_.current.offsetWidth,f=_.current;if(f&&f instanceof HTMLElement){const Q=f.getBoundingClientRect().left;q(Q)}k(s),o(s)}},D=s=>{if(!(i&&t&&r&&t-s<r))return y&&y(s,i?t:void 0)},H=s=>{if(!(a&&r&&s-a<r))return y&&y(a,s)},N=s=>F(s,l,n,v),B=s=>O(s,v,c,l,n,l,n,P),K=s=>{const f=B(s);if(i&&t&&Math.abs(f-t)<Math.abs(f-a)){H(f);return}D(f)};return b("div",{className:"a-range-slider","data-qa":g,ref:_,children:[b("div",{className:"a-range-slider__labels",children:[d("div",{className:"a-range-slider__label",children:u}),b("div",{className:"a-range-slider__label",children:[i?`${a} - ${t}`:`${a}`,` ${p}`]})]}),b("div",{className:"a-range-slider__inner",onClick:K,children:[L&&d("div",{className:"a-range-slider__tickmarks",children:W(l,n,c).map(s=>d("div",{className:"a-range-slider__tickmark"},s))}),d(Y,{start:a,end:t,getPositionFromValue:N,range:!!i,min:l}),d(I,{value:a,onUpdate:D,min:l,max:i&&r?n-r:n,sliderMin:l,sliderMax:n,step:c,sliderPos:e,direction:P,getPositionFromValue:N,ariaLabel:R}),i&&typeof r=="number"&&typeof t=="number"&&d(I,{value:t,onUpdate:H,min:l+r,max:n,sliderMin:l,sliderMax:n,step:c,sliderPos:e,direction:P,getPositionFromValue:N,ariaLabel:V})]}),b("div",{className:"a-range-slider__descriptions",children:[b("div",{className:"a-range-slider__description small",children:[x,S?d(C,{name:S}):null]}),b("div",{className:"a-range-slider__description small",children:[M,w?d(C,{name:w}):null]})]})]})}m.defaultProps={start:0,min:0,max:10,step:1,unit:"",minRange:1,range:!1,ariaLabelMin:"Minimum",ariaLabelMax:"Maximimum"};const se={title:"React/Atoms/RangeSlider",component:m,parameters:{docs:{description:{component:"Use the range slider component when the user needs to select a value or value range within certain minimum and maximum values."}}},args:{label:"Price",min:0,max:20,step:1,unit:"$",range:!1,minRange:1,labelStart:"",labelEnd:"",iconStart:"ai-accounting-bill",iconEnd:"ai-accounting-bills",ariaLabelMin:"Minimum",ariaLabelMax:"Maximum",tickMarks:!1},argTypes:{label:{control:{type:"text"},table:{type:{summary:"string"}},description:"A label that displays above the `RangeSlider`. "},start:{control:!1,table:{type:{summary:"number"},defaultValue:{summary:0}},description:"The `start` prop sets the value for the left handle if the `range` prop is set to `true`. If the `range` prop is set to `false`, the `start` prop sets the starting value of the single handle instead."},end:{control:!1,table:{type:{summary:"number"}},description:"The `end` prop sets the value for the right handle if the `range` prop is set to `true`."},min:{control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:0}},description:"The `min` prop controls the minimum value for the handle(s) on a `RangeSlider`."},max:{control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:10}},description:"The `max` prop controls the maximum value for the handle(s) on a `RangeSlider`."},step:{control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:1}},description:"The `step` prop controls with what increment a handle can be increased or decreased."},unit:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:""}},description:"The `unit` is a a suffix added after the numeric value(s)."},range:{control:{type:"boolean"},table:{type:{summary:"boolean"},defaultValue:{summary:!1}},description:"Setting `range` to `true` will add a second handle on the slider."},minRange:{control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:1}},description:"The `minRange` controls the minimum difference in values between `start` and `end`. For instance, a minRange of 2 means that `end` will always have a value of at least `start + 2`. Works only if `range` is `true`."},labelStart:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:""}},description:"Label at the start of the slider."},labelEnd:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:""}},description:"Label at the end of the slider."},iconStart:{control:{type:"select"},options:["","ai-accounting-bill","volume-control-off","arrow-left-1"],table:{type:{summary:"string"},defaultValue:{summary:""}},description:"Icon at the start of the slider."},iconEnd:{control:{type:"select"},options:["","ai-accounting-bills","volume-control-full","arrow-right-1"],table:{type:{summary:"string"},defaultValue:{summary:""}},description:"Icon at the end of the slider."},onChange:{control:{type:"function"},table:{type:{summary:"function"}},action:"onChange",description:"Function triggered when the start or end value is updated. The first parameter of this function is the new `start` value, the second parameter is the new `end` value (can be `undefined` if range is set to `false`)."},ariaLabelMin:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:"Minimum"}},description:"Aria-label on the `start` handle of the slider."},ariaLabelMax:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:"Maximum"}},description:"Aria-label on the `end` handle of the slider."},tickMarks:{control:{type:"boolean"},table:{type:{summary:"boolean"},defaultValue:{summary:!1}},description:"Show tickmarks on the `RangeSlider`."},qa:U}},G=({...u})=>{const[a,t]=A.useState(5),[l,n]=A.useState(12),c=(p,r)=>{t(p),n(r)};return d(m,{...u,onChange:(p,r)=>{c(p,r),u.onChange(p,r)},start:a,end:l})},E=G.bind({});var $,z,j;E.parameters={...E.parameters,docs:{...($=E.parameters)==null?void 0:$.docs,source:{originalSource:`({
  ...args
}) => {
  const [handleStartValue, setHandleStartValue] = useState(5);
  const [handleEndValue, setHandleEndValue] = useState(12);
  const handleChange = (start, end) => {
    setHandleStartValue(start);
    setHandleEndValue(end);
  };
  return <RangeSlider {...args} onChange={(start, end) => {
    handleChange(start, end);
    args.onChange(start, end);
  }} start={handleStartValue} end={handleEndValue} />;
}`,...(j=(z=E.parameters)==null?void 0:z.docs)==null?void 0:j.source}}};const le=["rangeSlider"];export{le as __namedExportsOrder,se as default,E as rangeSlider};
//# sourceMappingURL=RangeSlider.stories-9aade002.js.map
